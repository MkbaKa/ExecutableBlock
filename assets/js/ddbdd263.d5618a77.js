"use strict";(self.webpackChunkebdoc=self.webpackChunkebdoc||[]).push([[5822],{3905:(e,n,t)=>{t.d(n,{Zo:()=>u,kt:()=>k});var o=t(7294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,o,r=function(e,n){if(null==e)return{};var t,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)t=a[o],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)t=a[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var c=o.createContext({}),s=function(e){var n=o.useContext(c),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},u=function(e){var n=s(e.components);return o.createElement(c.Provider,{value:n},e.children)},p="mdxType",m={inlineCode:"code",wrapper:function(e){var n=e.children;return o.createElement(o.Fragment,{},n)}},d=o.forwardRef((function(e,n){var t=e.components,r=e.mdxType,a=e.originalType,c=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),p=s(t),d=r,k=p["".concat(c,".").concat(d)]||p[d]||m[d]||a;return t?o.createElement(k,i(i({ref:n},u),{},{components:t})):o.createElement(k,i({ref:n},u))}));function k(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var a=t.length,i=new Array(a);i[0]=d;var l={};for(var c in n)hasOwnProperty.call(n,c)&&(l[c]=n[c]);l.originalType=e,l[p]="string"==typeof e?e:r,i[1]=l;for(var s=2;s<a;s++)i[s]=t[s];return o.createElement.apply(null,i)}return o.createElement.apply(null,t)}d.displayName="MDXCreateElement"},7785:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>i,default:()=>m,frontMatter:()=>a,metadata:()=>l,toc:()=>s});var o=t(7462),r=(t(7294),t(3905));const a={sidebar_label:"executes\u6587\u4ef6\u5939",sidebar_position:1},i="\u6587\u672c\u6846\u53f3\u4e0a\u89d2\u6709\u590d\u5236\u6309\u94ae,\u70b9\u51fb\u5373\u53ef\u5feb\u901f\u590d\u5236.",l={unversionedId:"\u5f00\u59cb/\u9ed8\u8ba4\u914d\u7f6e/executes\u6587\u4ef6\u5939",id:"\u5f00\u59cb/\u9ed8\u8ba4\u914d\u7f6e/executes\u6587\u4ef6\u5939",title:"\u6587\u672c\u6846\u53f3\u4e0a\u89d2\u6709\u590d\u5236\u6309\u94ae,\u70b9\u51fb\u5373\u53ef\u5feb\u901f\u590d\u5236.",description:"executes \u6587\u4ef6\u5939",source:"@site/docs/\u5f00\u59cb/\u9ed8\u8ba4\u914d\u7f6e/executes\u6587\u4ef6\u5939.md",sourceDirName:"\u5f00\u59cb/\u9ed8\u8ba4\u914d\u7f6e",slug:"/\u5f00\u59cb/\u9ed8\u8ba4\u914d\u7f6e/executes\u6587\u4ef6\u5939",permalink:"/ExecutableBlock-wiki/docs/\u5f00\u59cb/\u9ed8\u8ba4\u914d\u7f6e/executes\u6587\u4ef6\u5939",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/\u5f00\u59cb/\u9ed8\u8ba4\u914d\u7f6e/executes\u6587\u4ef6\u5939.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_label:"executes\u6587\u4ef6\u5939",sidebar_position:1},sidebar:"Main",previous:{title:"\u5b89\u88c5",permalink:"/ExecutableBlock-wiki/docs/\u5f00\u59cb/\u5b89\u88c5"},next:{title:"global\u6587\u4ef6\u5939",permalink:"/ExecutableBlock-wiki/docs/\u5f00\u59cb/\u9ed8\u8ba4\u914d\u7f6e/global\u6587\u4ef6\u5939"}},c={},s=[{value:"executes \u6587\u4ef6\u5939",id:"executes-\u6587\u4ef6\u5939",level:2}],u={toc:s},p="wrapper";function m(e){let{components:n,...t}=e;return(0,r.kt)(p,(0,o.Z)({},u,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"\u6587\u672c\u6846\u53f3\u4e0a\u89d2\u6709\u590d\u5236\u6309\u94ae\u70b9\u51fb\u5373\u53ef\u5feb\u901f\u590d\u5236"},"\u6587\u672c\u6846\u53f3\u4e0a\u89d2\u6709\u590d\u5236\u6309\u94ae,\u70b9\u51fb\u5373\u53ef\u5feb\u901f\u590d\u5236."),(0,r.kt)("h2",{id:"executes-\u6587\u4ef6\u5939"},"executes \u6587\u4ef6\u5939"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u89e3\u91ca\u7528\u793a\u4f8b")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yml"},'# executes \u6587\u4ef6\u5939\u4e0b\u53ef\u968f\u610f\u521b\u5efa\u5b50\u6587\u4ef6\u5939 \u4ee5\u53cayml\u6587\u4ef6\n# \u8282\u70b9\u540d \u7528\u4e8e\u7ed1\u5b9a\nTest:\n  ### \u89e6\u53d1\u5668\n  # block break \u7834\u574f\u65b9\u5757\u65f6\u89e6\u53d1\n  # left click \u5de6\u952e\u70b9\u51fb\u89e6\u53d1\n  # right click \u53f3\u952e\u70b9\u51fb\u89e6\u53d1\n  # move  \u8e29\u8e0f\u89e6\u53d1\n  trigger: left click\n  ### \u6267\u884c\u5668 ###\n  # \u4ee5js: javascript: \u5f00\u5934\u5373\u6267\u884cjs\u811a\u672c\n  # \u4e0d\u5199\u524d\u7f00 \u6216\u4ee5ke: kether: \u5f00\u5934\u5373\u6267\u884cKether\u52a8\u4f5c\n  executes:\n    # \u683c\u5f0f\u4e3a\n    # - condition: "\u8fd9\u91cc\u5199\u6761\u4ef6"\n    #   action: |-\n    #     \u6ee1\u8db3\u6761\u4ef6\u540e\u6267\u884c\u7684\u52a8\u4f5c\n    # \u6761\u4ef6\u81ea\u4e0a\u800c\u4e0b\u8fd0\u884c  \u5982\u679c\u6ee1\u8db3\u5c31\u4e0d\u4f1a\u518d\u6267\u884c\u540e\u7eed\u7684\u6761\u4ef6\u53ca\u52a8\u4f5c\n    #\n    # \u52a8\u4f5c\u5185\u63d0\u4f9b\u7684\u53d8\u91cf\n    # event - \u7528\u4e8e\u8bbf\u95ee\u5f53\u524d\u4e8b\u4ef6\u4ee5\u83b7\u53d6\u5176\u5185\u5bb9\n    # player - \u6267\u884c\u5f53\u524d\u811a\u672c\u7684\u73a9\u5bb6\n    - condition: "ke: perm condition1"\n      action: |-\n        js:\n          function invoke() {\n            const item = ItemUtil.getMainHandItem(this.player)\n            this.player.sendMessage("\u4f60\u6b63\u5728\u7528 " + ItemUtil.getName(item, this.player) + " \u70b9\u51fb " + this.block.type)\n          }\n    - condition: |-\n        js: player.hasPermission("condition2")\n      action: |-\n        js: \n          function invoke() {\n            print(this.player.name)\n          }\n    # else \u5206\u652f\u4e3a \u4ee5\u4e0a\u6761\u4ef6\u5747\u4e0d\u6ee1\u8db3\u65f6\u6267\u884c\u7684\u52a8\u4f5c\n    - else:\n        action: |-\n          ke: print "test"\n')),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u65b9\u5757\u7834\u574f\u793a\u4f8b")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yml"},'# \u5b9e\u73b0\u4e00\u4e2a\u7834\u574f\u540e\u6839\u636e\u6743\u9650\u6267\u884c\u4e0d\u540c\u547d\u4ee4\nBreak:\n  trigger: block break\n  executes:\n    # \u5982\u679c\u73a9\u5bb6\u662f2\u7ea7vip\u5219\u4f7f\u7528\u7279\u6b8a\u5956\u6c60\n    - condition: "ke: perm vip2"\n      # \u8c61\u5f81\u6027\u7684\u5f80\u6c60\u5b50\u91cc\u585e\u4e00\u4e2a\u6ce5\u571f\n      action: |-\n        set type to random array [ "DIAMOND" "DIRT" "DIAMOND_SWORD" ]\n        command inline "minecraft:give {{ sender }} {{ &type }} 1" as console\n        tell inline "\u9707\u7cbe! \u4f60\u5c45\u7136\u4ece\u91cc\u9762\u6316\u51fa\u4e86\u4e00\u4e2a {{ &type }}!"\n    # \u4e00\u7ea7vip\n    - condition: |-\n        js: player.hasPermission("vip1")\n      action: |-\n        js: \n          function invoke() {\n            Bukkit.broadcastMessage(this.player.name + " \u4ece " + this.event.block.type + " \u4e2d\u6316\u5230\u4e86\u4e00\u5757\u6ce5\u571f!")\n            const loc = this.block.location\n            loc.world.dropItem(loc, new ItemStack(Material.DIRT))\n          }\n    # \u666e\u901a\u73a9\u5bb6\n    - else:\n        # \u753b\u4e2a\u997c\u5148\n        action: |-\n          ke: \n            tell "\u4f60\u7684\u8138\u597d\u9ed1\u54e6, \u8fd9\u4e48\u9ad8\u7684\u6982\u7387\u90fd\u6316\u4e0d\u5230\u5b9d\u7269 \u7d2b\u7802\u5427!"\n            command "suicide" as player\n')),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u8e29\u8e0f\u793a\u4f8b")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yml"},'# \u50cf move \u8fd9\u7c7b\u9ad8\u9891\u89e6\u53d1\u7684\u89e6\u53d1\u5668\n# \u53ef\u4ee5\u901a\u8fc7\u589e\u52a0\u51b7\u5374\u7684\u65b9\u5f0f\u907f\u514d\u5176\u9891\u7e41\u89e6\u53d1\nMoveExample:\n  trigger: move\n  executes:\n    # \u4ee5\u4e0b\u4e3a kether \u4e0e js \u64cd\u4f5c\u51b7\u5374\u7684\u76f8\u5173\u914d\u7f6e\n    # \u65f6\u95f4\u5355\u4f4d\u5747\u4e3a\u6beb\u79d2 (1000ms = 1s)\n    # kether \u64cd\u4f5c\u51b7\u5374: https://github.com/MkbaKa/ExecutableBlock/blob/main/src/main/kotlin/me/mkbaka/executableblock/internal/extension/cooldown/support/CooldownKether.kt\n    - condition: |-\n        check cooldown get "Test" <= 0\n      action: |-\n        cooldown add "Test" 10000\n        tell "\u4f60\u8e29\u5230\u5730\u96f7\u5566 \u54c8\u54c8\u54c8!"\n        if perm vip2 then {\n          tell "\u4f60\u662f\u5c0a\u8d35\u7684vip2\u73a9\u5bb6! \u7cfb\u7edf\u8d34\u5fc3\u7684\u4e3a\u4f60\u51cf\u5c1150%\u5730\u96f7\u7684\u51b7\u5374\u65f6\u95f4!"\n          cooldown take "Test" 5000\n        }\n        set cd to cooldown get "Test"\n        tell inline "\u8ddd\u79bb\u4e0b\u6b21\u5730\u96f7\u5f15\u7206\u8fd8\u6709 {{ math &cd / 1000 }} \u79d2!"\n        command inline "kill {{ sender }}" as console\n    # js \u64cd\u4f5c\u51b7\u5374: https://github.com/MkbaKa/ExecutableBlock/blob/main/src/main/kotlin/me/mkbaka/executableblock/internal/extension/cooldown/CooldownManager.kt\n    - condition: |-\n        js: CooldownManager.isTimeout(player.uniqueId, "MoveExample")\n      action: |-\n        js:\n          function invoke() {\n            const uuid = this.player.uniqueId\n            CooldownManager.addCooling(uuid, "MoveExample", 10000)\n            if (this.player.hasPermission("vip1")) {\n              this.player.sendMessage("\u4f60\u662f\u5c0a\u8d35\u7684vip1\u73a9\u5bb6! \u7cfb\u7edf\u8d34\u5fc3\u7684\u4e3a\u4f60\u51cf\u5c1125%\u5730\u96f7\u7684\u51b7\u5374\u65f6\u95f4!")\n              CooldownManager.takeCooling(uuid, "MoveExample", 2500)\n            }\n            this.player.sendMessage("\u8ddd\u79bb\u4e0b\u6b21\u5730\u96f7\u5f15\u7206\u8fd8\u6709 " + (CooldownManager.getTime(uuid, "MoveExample") / 1000) + " \u79d2!")\n            Bukkit.dispatchCommand(Bukkit.getConsoleSender(), "kill " + this.player.name)\n          }\n')))}m.isMDXComponent=!0}}]);